#N canvas 82 270 548 703 10;
#X obj 65 61 *~;
#X msg 178 14 0 \, 0.1 10000;
#X obj 176 48 vline~;
#X msg 241 39 0 10000;
#X obj 41 422 vsl 15 128 0 1 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 0 1;
#X obj 123 419 vsl 15 128 0 1 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 0 1;
#X obj 60 422 vsl 15 128 0 1 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 0 1;
#X obj 143 419 vsl 15 128 0 1 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 0 1;
#X obj 136 18 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 237 421 vsl 15 128 0 1 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 0 1;
#X obj 322 424 vsl 15 128 0 1 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 0 1;
#X obj 405 425 vsl 15 128 0 1 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 0 1;
#X obj 217 421 vsl 15 128 0 1 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 0 1;
#X obj 302 424 vsl 15 128 0 1 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 0 1;
#X obj 385 425 vsl 15 128 0 1 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 0 1;
#X obj 65 20 noise~;
#N canvas 527 239 746 535 Xth-original 0;
#X obj 53 441 outlet;
#X obj 123 441 outlet;
#X obj 193 441 outlet;
#X obj 263 441 outlet;
#X obj 323 441 outlet;
#X obj 44 30 inlet~;
#X obj 44 68 anlz.rms~;
#X obj 44 100 curve_draw;
#X obj 44 245 t f f;
#N canvas 1282 308 312 275 smooth.control.params 0;
#X obj 74 19 hsl 128 15 0 1 0 0 empty empty empty -2 -8 0 10 -262130
-1 -1 0 1;
#X floatatom 86 39 5 0 0 0 - - -;
#X obj 20 48 smooth;
#X floatatom 47 74 12 0 0 0 - - -;
#X obj 20 74 abs;
#X obj 20 -37 inlet;
#X obj 21 135 outlet;
#X obj 510 74 s anal.sig;
#X obj 21 95 scale.lin 1 0 0.8;
#X obj 53 -2 init 0.03;
#X floatatom 87 123 5 0 0 0 - - -;
#X connect 0 0 1 0;
#X connect 0 0 2 1;
#X connect 2 0 4 0;
#X connect 4 0 3 0;
#X connect 4 0 8 0;
#X connect 5 0 2 0;
#X connect 8 0 6 0;
#X connect 8 0 10 0;
#X connect 9 0 2 1;
#X restore 75 288 pd smooth.control.params;
#X obj 387 81 anlz.snap~;
#X obj 386 113 resample 10;
#X obj 382 144 t f f;
#N canvas 1299 230 264 246 smooth.control.params 0;
#X obj 74 19 hsl 128 15 0 1 0 0 empty empty empty -2 -8 0 10 -262130
-1 -1 0 1;
#X floatatom 86 39 5 0 0 0 - - -;
#X obj 20 48 smooth;
#X obj 20 74 abs;
#X obj 20 -37 inlet;
#X obj 21 135 outlet;
#X obj 510 74 s anal.sig;
#X obj 21 95 scale.lin 1 0 0.8;
#X obj 53 -2 init 0.03;
#X connect 0 0 1 0;
#X connect 0 0 2 1;
#X connect 2 0 3 0;
#X connect 3 0 7 0;
#X connect 4 0 2 0;
#X connect 7 0 5 0;
#X connect 8 0 2 1;
#X restore 426 177 pd smooth.control.params;
#X obj 359 211 scale.lin 1 0 0.3;
#N canvas 1257 159 629 562 last.max.&.three.triggers 0;
#X floatatom 80 221 5 0 0 0 - - -;
#X floatatom 43 175 12 0 0 0 - - -;
#X obj 22 129 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 43 126 trigger f f f;
#X obj 182 207 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 201 162 route 0;
#X obj 201 182 t b;
#X obj 201 204 debounce 2000;
#X obj 174 132 t f f;
#X obj 174 104 flow.average;
#X obj 174 243 flow.last.max;
#X obj 80 199 flow.last.max;
#X obj 43 152 flow.last.min;
#X obj -42 373 scale.lin 120 40 0.4;
#X floatatom 139 327 5 0 0 0 - - -;
#X obj 174 349 pack f 100;
#X obj 43 98 spigot 1;
#X obj 105 72 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj -42 398 scale.lin 1 0.4 0.4;
#X text -44 419 this was different for the live;
#N canvas 30 139 232 281 workaround.preset.bug 0;
#X obj 85 -137 r PRESET.ONSET;
#X msg 112 -92 0;
#X obj 85 -113 t b b;
#X msg 85 -37 1;
#X obj 85 7 outlet;
#X obj 85 -61 del 900;
#X connect 0 0 2 0;
#X connect 1 0 4 0;
#X connect 2 0 5 0;
#X connect 2 1 1 0;
#X connect 3 0 4 0;
#X connect 5 0 3 0;
#X restore 88 45 pd workaround.preset.bug;
#X obj 174 298 scale.lin 1 0.4 0.4;
#N canvas 18 93 450 300 other-three-variables 0;
#X obj 95 34 inlet;
#X obj 95 61 route 1e-21;
#X obj 94 84 moses 0.009;
#X obj 94 200 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 94 176 debounce 2000;
#X obj 94 153 t b;
#X obj 183 202 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 183 178 debounce 2000;
#X obj 183 155 t b;
#X obj 274 204 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 274 180 debounce 2000;
#X obj 274 157 t b;
#X obj 94 225 s uno;
#X obj 183 223 s due;
#X obj 274 225 s tre;
#X obj 94 107 moses 0.09;
#X obj 151 130 moses 0.2;
#X connect 0 0 1 0;
#X connect 1 1 2 0;
#X connect 2 1 15 0;
#X connect 3 0 12 0;
#X connect 4 0 3 0;
#X connect 5 0 4 0;
#X connect 6 0 13 0;
#X connect 7 0 6 0;
#X connect 8 0 7 0;
#X connect 9 0 14 0;
#X connect 10 0 9 0;
#X connect 11 0 10 0;
#X connect 15 0 5 0;
#X connect 15 1 16 0;
#X connect 16 0 8 0;
#X connect 16 1 11 0;
#X restore 183 272 pd other-three-variables;
#X text 306 104 1_ get the running average;
#X text 301 239 2_ compute the last max (every 2 secs);
#X text 300 374 4_ interpolate normalized values;
#X text 338 302 3_ normalize the values;
#X obj 43 10 inlet linear;
#X obj 174 405 outlet last-max;
#X obj 174 376 line3;
#X connect 2 0 12 0;
#X connect 3 0 12 0;
#X connect 3 1 11 0;
#X connect 3 2 9 0;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 7 0 4 0;
#X connect 7 0 10 0;
#X connect 8 0 10 0;
#X connect 8 1 5 0;
#X connect 9 0 8 0;
#X connect 10 0 21 0;
#X connect 10 0 22 0;
#X connect 11 0 0 0;
#X connect 12 0 1 0;
#X connect 15 0 29 0;
#X connect 16 0 3 0;
#X connect 20 0 17 0;
#X connect 20 0 16 1;
#X connect 21 0 15 0;
#X connect 21 0 14 0;
#X connect 27 0 16 0;
#X connect 29 0 28 0;
#X restore 457 262 pd last.max.&.three.triggers;
#X connect 5 0 6 0;
#X connect 5 0 10 0;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 8 0 0 0;
#X connect 8 1 9 0;
#X connect 9 0 1 0;
#X connect 10 0 11 0;
#X connect 11 0 12 0;
#X connect 12 0 14 0;
#X connect 12 1 13 0;
#X connect 13 0 3 0;
#X connect 14 0 15 0;
#X connect 14 0 2 0;
#X connect 15 0 4 0;
#X restore 65 116 pd Xth-original;
#N canvas 413 326 749 555 XTH-lib 0;
#X obj 67 67 anlzRms~;
#X obj 67 110 curveDraw;
#X obj 67 154 t f f;
#X obj 123 231 smoothControlParams;
#X obj 307 60 anlzSnap~;
#X obj 307 95 t f f;
#X obj 307 147 scaleLin 1 0 0.3;
#X obj 437 147 smoothControlParams;
#X obj 477 192 flowAverage;
#X obj 480 275 flowLastMax;
#X obj 540 244 select 0;
#X obj 480 216 t f f;
#X obj 480 304 scaleLin 1 0.4 0.4;
#X obj 480 380 pack f 100;
#X floatatom 507 339 5 0 0 0 - - -;
#X obj 67 12 inlet~;
#X obj 63 451 outlet;
#X obj 133 451 outlet;
#X obj 203 451 outlet;
#X obj 273 451 outlet;
#X obj 333 451 outlet;
#X obj 481 406 line3;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 16 0;
#X connect 2 1 3 0;
#X connect 3 0 17 0;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 5 1 7 0;
#X connect 6 0 8 0;
#X connect 6 0 18 0;
#X connect 7 0 19 0;
#X connect 8 0 11 0;
#X connect 9 0 12 0;
#X connect 10 0 9 1;
#X connect 11 0 9 0;
#X connect 11 1 10 0;
#X connect 12 0 13 0;
#X connect 12 0 14 0;
#X connect 13 0 21 0;
#X connect 15 0 0 0;
#X connect 15 0 4 0;
#X connect 21 0 20 0;
#X restore 385 145 pd XTH-lib;
#X connect 0 0 16 0;
#X connect 0 0 17 0;
#X connect 1 0 2 0;
#X connect 2 0 0 1;
#X connect 3 0 2 0;
#X connect 8 0 2 0;
#X connect 15 0 0 0;
#X connect 16 0 4 0;
#X connect 16 1 5 0;
#X connect 16 2 12 0;
#X connect 16 3 13 0;
#X connect 16 4 14 0;
#X connect 17 0 6 0;
#X connect 17 1 7 0;
#X connect 17 2 9 0;
#X connect 17 3 10 0;
#X connect 17 4 11 0;
